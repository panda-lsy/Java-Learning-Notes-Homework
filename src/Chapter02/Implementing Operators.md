# Java 运算符

## 主要类型

- 算数
- 赋值
- 比较
- 逻辑

### 算数运算符

+、-、*、/、%

### 赋值运算符

简单赋值运算符：= 用于为变量赋值

复合赋值运算符

- `+=`
- `-=`
- `/=`
- `*=`
- `%=`

### 比较运算符

<、>、<=、>=、==、!=

### `instanceof` 运算符

测试对象在运行时是否为特定类的实例

`op1 instanceof op2`

### 逻辑运算符

用于计算操作数并返回布尔值。

- `&&` 逻辑与
- `||` 逻辑或

### 一元运算符

只需要一个操作数的运算符

+、-、++、--、!(取反)

其中，递增/递减运算符可以应用于前缀/后缀形式
示例：

```java
// 前缀与后缀的基本区别
int a = 5;
int b = ++a;   // 先自增再赋值 => a = 6, b = 6

int c = 5;
int d = c++;   // 先赋值再自增 => c = 6, d = 5

int e = 5;
int f = --e;   // 先自减再赋值 => e = 4, f = 4

int g = 5;
int h = g--;   // 先赋值再自减 => g = 4, h = 5
```

表达式中的区别：

```java
int x = 1;
int y = x++ + ++x; // x++ 取 1 后变 2，++x 先变 3 再取 => y = 1 + 3 = 4，x = 3
```

其他一元运算符：

```java
int n = -7;
int u1 = +n;   // 仍为 -7（正号不改变数值）
int u2 = -n;   // 变为 7（取相反数）

boolean ok = false;
boolean notOk = !ok; // true（逻辑取反）
```

前缀：将值赋给操作数之前，值会增加或减少

后缀：值在被赋值给操作数后增加或减少

## 运算符运算顺序

- 运算符优先级与结合性（由高到低；除特别注明，结合性为左→右）

| 优先级 | 运算符/符号                                       | 结合性   |
|-------|----------------------------------------------------|----------|
| 最高  | .  []  ()  方法调用/成员访问/数组下标               | 左→右    |
|       | a++  a--                                           | 左→右    |
|       | ++a  --a  +a  -a  ~  !  (类型)  new                | 右→左    |
|       | *  /  %                                            | 左→右    |
|       | +  -                                               | 左→右    |
|       | <<  >>  >>>                                        | 左→右    |
|       | <  <=  >  >=  instanceof                           | 左→右    |
|       | ==  !=                                             | 左→右    |
|       | &                                                  | 左→右    |
|       | ^                                                  | 左→右    |
|       | |                                                  | 左→右    |
|       | &&                                                 | 左→右    |
|       | ||                                                 | 左→右    |
|       | ?:                                                 | 右→左    |
| 最低  | =  +=  -=  *=  /=  %=  &=  ^=  |=  <<=  >>=  >>>=  | 右→左    |

- 说明
    - . [] () 常被视为“访问/调用”运算，优先级最高。
    - 一元运算含类型转换(类型)与对象创建new，按右→左结合。
    - 短路逻辑与/或为 &&、||；按位与/或/异或为 &、|、^。

